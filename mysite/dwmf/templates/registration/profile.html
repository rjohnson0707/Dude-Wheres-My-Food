{%extends 'base.html'%}
{%block content%}

<div class="container">
    <h1>Profile Page</h1>
    <p>Username: {{ user.username}}</p>
    <p>First Name: {{ user.profile.first_name }}</p>
    <p>Last Name: {{ user.profile.last_name }}</p>
    <p>Email: {{ user.email }}</p>
</div>
<a href="{% url 'edit_profile' %}">Edit Information?</a>
<form action="#">
    <div class="file-field input-field">
        <div class="btn">
            <span>File</span>
            <input type="file" multiple>
        </div>
        <div class="file-path-wrapper">
            <input class="file-path validate" type="text" placeholder="Upload Profile Picture">
        </div>
    </div>
</form>

<div class="row">
    <p>Bio: {{ user.userprofile.bio }}</p>
  </div>

  <hr>
  <div class="row">
    <div class="col s6">
      <h3>{{ user.first_name }}'s Favorite Trucks</h3>
      {% if user.userprofile.trucks.count %}
        {% for truck in user.userprofile.trucks.all %}
          <div class="card">
            <div class="card-content">
              <span class="card-title">
                  {{ truck.name}}
              </span>
            </div>
          </div>
        {% endfor %}
      {% else %}
        <h5>No Trucks :(</h5>
      {% endif %}
    </div>

    <div class="col s6">
      <h3>Available Trucks to Favorite</h3>
      {% if trucks.count %}
        {% for truck in trucks.all %}
          <div class="card">
            <div class="card-content">
              <span class="card-title">
                {{ truck.name}}
            </span>
            </div>
            <div class="card-action">
              <form method="post">
                {% csrf_token %}
                <button type="submit" class="btn">Add</button>
              </form>
            </div>
          </div>
        {% endfor %}
      {% endif %}
    </div>
  </div>




{%endblock%}